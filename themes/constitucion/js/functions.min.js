!function(a){"use strict";a(function(){function b(){var b=a(window).width(),c=a(window).height();a("#container_video").css({width:b,height:c})}function c(b){var c=a("#"+b).val(),d=/docs.google.com/.test(c),e=/dropbox.com/.test(c),f=/onedrive.live.com/.test(c),g=/drive.google/.test(c);return d||e||f||g?!0:""==c?!0:(a("#"+b).addClass("parsley-error"),!1)}function d(){return a("header").outerHeight()}function e(){var b=d();a(".main").css("padding-top",b)}function f(){a("img.svg").each(function(){var b=a(this),c=b.attr("id"),d=b.attr("class"),e=b.attr("src");a.get(e,function(e){var f=a(e).find("svg");"undefined"!=typeof c&&(f=f.attr("id",c)),"undefined"!=typeof d&&(f=f.attr("class",d+" replaced-svg")),f=f.removeAttr("xmlns:a").removeAttr("width").removeAttr("height"),b.replaceWith(f)},"xml")})}function g(){var b=a("#pie-data").get(0).getContext("2d"),c=[{value:60,color:"#457390",highlight:"#222"},{value:14,color:"#4b7c9c",highlight:"#222"},{value:14,color:"#76a1bd",highlight:"#222"},{value:6,color:"#d1d8e4",highlight:"#222"},{value:6,color:"#363636",highlight:"#222"}];new Chart(b).Pie(c)}function h(){return a(".soy-cdmx").hasClass("js-hidden")?void a(".soy-cdmx").animate({right:"0"},500,function(){a(".soy-cdmx").removeClass("js-hidden")}):void a(".soy-cdmx").animate({right:"-370"},500,function(){a(".soy-cdmx").addClass("js-hidden")})}function i(){var a=function(a){return a.replace(/(^\s*)|(\s*$)/gi,"").replace(/\s+/gi," ").split(" ").length};window.Parsley.addValidator("minwords",function(b,c){return a(b)>=c},32).addMessage("en","minwords","This value needs more words"),window.Parsley.addValidator("maxwords",function(b,c){return a(b)<=c},32).addMessage("en","maxwords","This value needs fewer words"),window.Parsley.addValidator("words",function(b,c){var d=a(b);return d>=c[0]&&d<=c[1]},32).addMessage("en","words","This value has the incorrect number of words")}function j(b){var c=parseInt(document.getElementById("js-contact-captcha-label").getElementsByTagName("span")[0].innerHTML),d=parseInt(document.getElementById("js-contact-captcha-label").getElementsByTagName("span")[1].innerHTML),b=a("#contact-captcha").val(),e=parseInt(c)+parseInt(d);return b==e}function k(b,c){var d=1e3,e=a(b).offset();a("html, body").animate({scrollTop:e.top-c},d)}function l(){var b=[],c=[];a.each(kioskos,function(a,d){var e=[d.name,d.lat,d["long"]],f=['<div class="info_content"><h3>'+d.name+"</h3></div>"];b.push(e),c.push(f)});var d,e=new google.maps.LatLngBounds,f=a(document).width()>480,g={mapTypeId:"roadmap",scrollwheel:!1,navigationControl:!1,zoomControl:!1,scaleControl:!1,disableDoubleClickZoom:!0,mapTypeControl:!1,draggable:f};d=new google.maps.Map(document.getElementById("map_canvas"),g),d.setTilt(45);var h,i,j=b,k=new google.maps.InfoWindow;for(i=0;i<j.length;i++){var l=new google.maps.LatLng(j[i][1],j[i][2]);e.extend(l),h=new google.maps.Marker({position:l,map:d,title:j[i][0]}),google.maps.event.addListener(h,"click",function(a,b){return function(){k.setContent(c[b][0]),k.open(d,a)}}(h,i)),d.fitBounds(e)}var m=google.maps.event.addListener(d,"bounds_changed",function(a){google.maps.event.removeListener(m)})}if(document.getElementById("container_video")&&(b(),a(window).resize(function(){b()})),a(".js-hero_video__scroll").on("click",function(){a("body").animate({scrollTop:a("#js-home-scroll-point").position().top-70},"700")}),a("#close-feedback").on("click",function(){a("#feedback, .modal-backdrop").remove();a("#feedback")}),a("#close-feedback-forms").on("click",function(){a("#feedback, .modal-backdrop").remove();a("#feedback")}),document.getElementById("ubicacion_evento")){var m=new google.maps.places.Autocomplete(a("#ubicacion_evento")[0],{});google.maps.event.addListener(m,"place_changed",function(){var b=m.getPlace();a("#latitud_evento").val(b.geometry.location.lat()),a("#longitud_evento").val(b.geometry.location.lng());var c='<iframe width="100%" height="170" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://maps.google.com/maps?q='+b.geometry.location.lat()+","+b.geometry.location.lng()+'&hl=es;z=14&amp;output=embed" title="Mapa de lugar del evento"></iframe>';a(".iframe-cont").empty().append(c)})}if(a(".flexslider").flexslider({animation:"slide"}),a(".slider.responsive").slick({dots:!0,infinite:!0,speed:300,slidesToShow:4,slidesToScroll:4,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]}),a(".content-trabajo").on("click",function(){var b=a(this).children("a").children(".biografia").html(),c=a(this).children("a").children(".nombre").html(),d=a(this).children("a").children("img").attr("src"),e=a(this).children("a").children(".cargo").html();a(".biografia-modal").empty().html(b),a(".nombre-modal").empty().html(c),a(".imagen-modal").attr("src","").attr("src",d),a(".cargo-modal").empty().html(e)}),a.datepicker.regional.es={closeText:"Cerrar",prevText:"",currentText:"Hoy",monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthNamesShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],dayNames:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],dayNamesShort:["Dom","Lun","Mar","Mié","Juv","Vie","Sáb"],dayNamesMin:["Do","Lu","Ma","Mi","Ju","Vi","Sá"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},a.datepicker.setDefaults(a.datepicker.regional.es),a(".date-ensayo").datepicker({dateFormat:"yy-mm-dd",minDate:new Date(2015,0,1),onSelect:function(b,c){window.dateInicio=b,a(".date-ensayo-fin").removeAttr("disabled")}}),a(".date-ensayo-fin").datepicker({dateFormat:"yy-mm-dd",minDate:new Date(2015,0,1)}),a("#form-ensayos").on("submit",function(a){a.preventDefault();var b=c("fotografias_ensayo"),d=c("lista_asistentes_ensayo"),e=c("compartir_documento_ensayo");if(b&&d&&e){dataLayer.push({event:"ensayo-exitoso"});var f=document.getElementById("form-ensayos");f.submit()}}),a("#form-eventos").on("submit",function(a){a.preventDefault();var b=c("fotografia_evento");if(b){dataLayer.push({event:"encuentro-exitoso"});var d=document.getElementById("form-eventos");d.submit()}}),a(".nota-destacada a").on("click",function(a){a.preventDefault()}),parseInt(isPageSondeo)&&a("[data-parsley-certificado]").parsley(),parseInt(isPageParticipa)&&(i(),a("[data-parsley-certificado]").parsley()),f(),a(".js-video-wrapper").fitVids(),parseInt(isPageCDMX)&&g(),e(),a(window).scroll(function(){e()}),a(window).resize(function(){e()}),parseInt(isHome)&&(a(this).scrollTop()>400?a("header").addClass("sticky"):a("header").removeClass("sticky"),a(window).scroll(function(){a(this).scrollTop()>400?a("header").addClass("sticky"):a("header").removeClass("sticky")})),a(".flex-prev, .flex-next").addClass("hidden-xs"),a(window).scroll(function(){parseInt(isHome)&&(a(this).scrollTop()>40?a("header").addClass("sticky"):a("header").removeClass("sticky"))}),document.getElementById("scroll")&&document.getElementById("recorre")){var n=a("#recorre").val();a(".scroll-cronologia").animate({scrollLeft:n},0)}a("#js-btn-cdmx a").click(function(a){a.preventDefault(),h()}),a("#js-hide-twitter").on("click",function(a){a.preventDefault(),h()}),document.getElementById("js-contact-captcha")&&(document.getElementById("js-contact-captcha-label").getElementsByTagName("span")[0].innerHTML=Math.floor(20*Math.random())+1,document.getElementById("js-contact-captcha-label").getElementsByTagName("span")[1].innerHTML=Math.floor(20*Math.random())+1,window.Parsley.addValidator("captcha",function(a){return j()}).addMessage("en","captcha","El valor es incorrecto")),a(".mas-eventos").on("click",function(b){b.preventDefault();var c=a(this).attr("data-date");a(this).addClass("hidden"),a(".date-"+c).removeClass("hidden").fadeOut(0).fadeIn(1200)}),a(window).bind("load",function(){var a=location.hash;""!=a&&a.length>1&&k(a,110)}),a("ul.dropdown-content > li > a").on("click",function(){var b=a(this).attr("href"),b=b.split("#"),c=b[0].split("/"),d=a(c).get(-2),e=location.pathname,f=e.split("/"),g=a(f).get(-2);return d==g?(k("#"+b[1],140),!1):void 0}),document.getElementById("map_canvas")&&l()})}(jQuery);