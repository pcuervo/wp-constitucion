!function(a){"use strict";a(function(){function b(){var b=a(window).width(),c=a(window).height();a("#container_video").css({width:b,height:c})}function c(b,c){var d=1e3,e=a(b).offset().top;console.log(e),a("body").animate({scrollTop:e-c},d)}function d(b){var c=a("#"+b).val(),d=/docs.google.com/.test(c),e=/dropbox.com/.test(c),f=/onedrive.live.com/.test(c);return d||e||f?!0:""==c?!0:(a("#"+b).addClass("parsley-error"),!1)}function e(){return a("header").outerHeight()}function f(){var b=e();a(".main").css("padding-top",b)}function g(){a("img.svg").each(function(){var b=a(this),c=b.attr("id"),d=b.attr("class"),e=b.attr("src");a.get(e,function(e){var f=a(e).find("svg");"undefined"!=typeof c&&(f=f.attr("id",c)),"undefined"!=typeof d&&(f=f.attr("class",d+" replaced-svg")),f=f.removeAttr("xmlns:a").removeAttr("width").removeAttr("height"),b.replaceWith(f)},"xml")})}function h(){var b=a("#pie-data").get(0).getContext("2d"),c=[{value:60,color:"#457390",highlight:"#222",label:"nombre"},{value:15,color:"#d1d8e4",highlight:"#222",label:"nombre"},{value:25,color:"#363636",highlight:"#222",label:"nombre"}];new Chart(b).Pie(c)}function i(){var b=a("#bar-data").get(0).getContext("2d"),c={labels:["dato","dato","dato","dato","dato","dato"],datasets:[{label:"2010 customers #",fillColor:"#457390",data:[2500,1902,1041,610,1245,952]},{label:"2014 customers #",fillColor:"#363636",data:[3104,1689,1318,589,1199,1436]}]};new Chart(b).Bar(c)}function j(){return a(".soy-cdmx").hasClass("js-hidden")?void a(".soy-cdmx").animate({right:"0"},500,function(){a(".soy-cdmx").removeClass("js-hidden")}):void a(".soy-cdmx").animate({right:"-370"},500,function(){a(".soy-cdmx").addClass("js-hidden")})}function k(b){console.log(b),a.post(ajax_url,{reference_code:b,action:"survey_exists"},function(c){return"0"==c?void alert("No existe ninguna encuesta con folio: "+b):(a(".js-codigo-referencia span").text(c),a("#modal-agradecimiento").modal("toggle"),void a('input[name="referencia"]').val(c))})}function l(){var a=function(a){return a.replace(/(^\s*)|(\s*$)/gi,"").replace(/\s+/gi," ").split(" ").length};window.Parsley.addValidator("minwords",function(b,c){return a(b)>=c},32).addMessage("en","minwords","This value needs more words"),window.Parsley.addValidator("maxwords",function(b,c){return a(b)<=c},32).addMessage("en","maxwords","This value needs fewer words"),window.Parsley.addValidator("words",function(b,c){var d=a(b);return d>=c[0]&&d<=c[1]},32).addMessage("en","words","This value has the incorrect number of words")}document.getElementById("container_video")&&(b(),a(window).resize(function(){b()})),a(".js-hero_video__scroll").on("click",function(){a("body").animate({scrollTop:a("#js-home-scroll-point").position().top-80},"700")}),a("#close-feedback").on("click",function(){a("#feedback, .modal-backdrop").remove()});var m=location.hash;if(""!=m&&m.length>1&&c(m,40),a("ul.dropdown-content>li>a").on("click",function(){var b=a(this).attr("href"),b=b.split("#");return c("#"+b[1],140),!1}),a(".flexslider").flexslider({animation:"slide"}),a(".content-trabajo").on("click",function(){var b=a(this).children("a").children(".biografia").html(),c=a(this).children("a").children(".nombre").html(),d=a(this).children("a").children("img").attr("src"),e=a(this).children("a").children(".cargo").html();a(".biografia-modal").empty().html(b),a(".nombre-modal").empty().html(c),a(".imagen-modal").attr("src","").attr("src",d),a(".cargo-modal").empty().html(e)}),a(".date-ensayo").datepicker({dateFormat:"yy-mm-dd",minDate:0,onSelect:function(b,c){window.dateInicio=b,a(".date-ensayo-fin").removeAttr("disabled")}}),a(".date-ensayo-fin").datepicker({dateFormat:"yy-mm-dd",minDate:0}),a("#form-ensayos").on("submit",function(a){a.preventDefault();var b=d("fotografias_ensayo"),c=d("lista_asistentes_ensayo"),e=d("compartir_documento_ensayo");if(b&&c&&e){var f=document.getElementById("form-ensayos");f.submit()}}),a("#form-eventos").on("submit",function(a){a.preventDefault();var b=d("fotografia_evento");if(b){var c=document.getElementById("form-eventos");c.submit()}}),a(".nota-destacada a").on("click",function(a){a.preventDefault()}),parseInt(isPageSondeo)&&a("[data-parsley-certificado]").parsley(),parseInt(isPageParticipa)&&(l(),a("[data-parsley-certificado]").parsley(),a(".js-check-reference-code").submit(function(b){b.preventDefault(),k(a('input[name="ref_code"]').val())})),g(),a(".js-video-wrapper").fitVids(),parseInt(isPageCDMX)&&(h(),i()),f(),a(window).scroll(function(){f()}),a(window).resize(function(){f()}),parseInt(isHome)&&a(window).scroll(function(){a(this).scrollTop()>400?a("header").addClass("sticky"):a("header").removeClass("sticky")}),a(".flex-prev, .flex-next").addClass("hidden-xs"),a(window).scroll(function(){parseInt(isHome)&&(a(this).scrollTop()>40?a("header").addClass("sticky"):a("header").removeClass("sticky"))}),document.getElementById("scroll")&&document.getElementById("recorre")){var n=a("#recorre").val();console.log(n),a(".scroll-cronologia").animate({scrollLeft:n},0)}a("#js-btn-cdmx a").click(function(a){a.preventDefault(),j()}),a("#js-hide-twitter").click(function(a){a.preventDefault(),j()})})}(jQuery);